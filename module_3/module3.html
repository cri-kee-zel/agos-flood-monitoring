<!DOCTYPE html><!DOCTYPE html><!DOCTYPE html>

<html lang="en">

  <head><html lang="en"><html lang="en">

    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />  <head>  <head>

    <title>AGOS Module 3 - Historical Data Visualization</title>

    <link rel="stylesheet" href="/module_1/styles.css" />    <meta charset="UTF-8" />    <meta charset="UTF-8" />

    <link rel="stylesheet" href="/module_3/module3-styles.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />    <meta name="viewport" content="width=device-width, initial-scale=1.0" />    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <link    <title>AGOS Module 3 - Historical Data Visualization</title>    <title>AGOS Module 3 - Historical Data Visualization</title>

      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"

      rel="stylesheet"    <link rel="stylesheet" href="/module_1/styles.css" />    <link rel="stylesheet" href="/module_1/styles.css" />

    />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>    <link rel="stylesheet" href="/module_3/module3-styles.css" />    <link rel="stylesheet" href="/module_3/module3-styles.css" />

  </head>

  <body>    <link rel="preconnect" href="https://fonts.googleapis.com" />    <link rel="preconnect" href="https://fonts.googleapis.com" />

    <!-- Main Header -->

    <header class="main-header">    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

      <div class="header-content">

        <div class="logo-section">    <link    <link

          <h1>ğŸ“ˆ AGOS HISTORICAL DATA</h1>

          <p>Database Storage & Visualization</p>      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"

        </div>

        <div class="module-nav">      rel="stylesheet"      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"

          <button class="nav-btn" onclick="window.location.href='/'">

            ğŸ“Š Dashboard    />

          </button>

          <button class="nav-btn" onclick="window.location.href='/mapping'">    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>      rel="stylesheet"    <link rel="stylesheet" href="/module_1/styles.css" />    <link rel="stylesheet" href="/module_1/styles.css" />

            ğŸ›°ï¸ AI Mapping

          </button>  </head>

          <button class="nav-btn active">ğŸ“ˆ Historical Data</button>

          <button class="nav-btn" onclick="window.location.href='/emergency'">  <body>    />

            ğŸš¨ Emergency

          </button>    <!-- Main Header -->

        </div>

    <header class="main-header">    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>    <link rel="stylesheet" href="/module_3/module3-simple.css" />    <link rel="stylesheet" href="/module_3/module3-simple.css" />

        <div class="system-status">

          <div class="status-item">      <div class="header-content">

            <span class="status-icon" id="data-status">ğŸŸ¢</span>

            <span>Database</span>        <div class="logo-section">  </head>

          </div>

          <div class="status-item">          <h1>ğŸ“ˆ AGOS HISTORICAL DATA</h1>

            <span class="status-icon" id="connection-status">ğŸŸ¢</span>

            <span>Server</span>          <p>Database Storage & Visualization</p>  <body>    <link rel="preconnect" href="https://fonts.googleapis.com" />    <link rel="preconnect" href="https://fonts.googleapis.com" />

          </div>

        </div>        </div>

      </div>

    </header>        <div class="module-nav">    <!-- Main Header -->



    <!-- Historical Data Dashboard -->          <button class="nav-btn" onclick="window.location.href='/'">

    <main class="historical-dashboard">

      <!-- Time Range Selector -->            ğŸ“Š Dashboard    <header class="main-header">    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

      <section class="time-controls">

        <div class="time-range-buttons">          </button>

          <button class="time-btn" data-range="1h">1 Hour</button>

          <button class="time-btn" data-range="6h">6 Hours</button>          <button class="nav-btn" onclick="window.location.href='/mapping'">      <div class="header-content">

          <button class="time-btn active" data-range="24h">24 Hours</button>

          <button class="time-btn" data-range="7d">7 Days</button>            ğŸ›°ï¸ AI Mapping

          <button class="time-btn" data-range="30d">30 Days</button>

        </div>          </button>        <div class="logo-section">    <link    <link

        <div class="data-info">

          <span>          <button class="nav-btn active">ğŸ“ˆ Historical Data</button>

            Data Points:

            <strong id="data-count">0</strong>          <button class="nav-btn" onclick="window.location.href='/emergency'">          <h1>ğŸ“ˆ AGOS HISTORICAL DATA</h1>

          </span>

          <span>            ğŸš¨ Emergency

            Last Update:

            <strong id="last-update">-</strong>          </button>          <p>Database Storage & Visualization</p>      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"

          </span>

        </div>        </div>

      </section>

        </div>

      <!-- Database Statistics -->

      <section class="stats-overview">        <div class="system-status">

        <div class="stat-card">

          <div class="stat-header">          <div class="status-item">        <div class="module-nav">      rel="stylesheet"      rel="stylesheet"

            <h3>ğŸ’§ Water Level</h3>

          </div>            <span class="status-icon" id="data-status">ğŸŸ¢</span>

          <div class="stat-value">

            <span class="value" id="current-water-level">0.0</span>            <span>Database</span>          <button class="nav-btn" onclick="window.location.href='index.html'">

            <span class="unit">cm</span>

          </div>          </div>

          <div class="stat-details">

            <span class="detail-item">          <div class="status-item">            ğŸ“Š Dashboard    />    />

              Max:

              <strong id="max-water-level">0.0 cm</strong>            <span class="status-icon" id="connection-status">ğŸŸ¢</span>

            </span>

            <span class="detail-item">            <span>Server</span>          </button>

              Min:

              <strong id="min-water-level">0.0 cm</strong>          </div>

            </span>

          </div>        </div>          <button class="nav-btn" onclick="window.location.href='module2.html'">    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>

        </div>

      </div>

        <div class="stat-card">

          <div class="stat-header">    </header>            ğŸ›°ï¸ AI Mapping

            <h3>ğŸŒŠ Flow Rate</h3>

          </div>

          <div class="stat-value">

            <span class="value" id="current-flow-rate">0.0</span>    <!-- Historical Data Dashboard -->          </button>  </head>  </head>

            <span class="unit">m/s</span>

          </div>    <main class="historical-dashboard">

          <div class="stat-details">

            <span class="detail-item">      <!-- Time Range Selector -->          <button class="nav-btn active">ğŸ“ˆ Historical Data</button>

              Max:

              <strong id="max-flow-rate">0.0 m/s</strong>      <section class="time-controls">

            </span>

            <span class="detail-item">        <div class="time-range-buttons">          <button class="nav-btn" onclick="window.location.href='module4.html'">  <body>  <body>

              Avg:

              <strong id="avg-flow-rate">0.0 m/s</strong>          <button class="time-btn" data-range="1h">1 Hour</button>

            </span>

          </div>          <button class="time-btn" data-range="6h">6 Hours</button>            ğŸš¨ Emergency

        </div>

          <button class="time-btn active" data-range="24h">24 Hours</button>

        <div class="stat-card">

          <div class="stat-header">          <button class="time-btn" data-range="7d">7 Days</button>          </button>    <!-- Main Header -->    <!-- Main Header -->

            <h3>ğŸ”‹ System Status</h3>

          </div>          <button class="time-btn" data-range="30d">30 Days</button>

          <div class="stat-value">

            <span class="value" id="battery-level">85</span>        </div>        </div>

            <span class="unit">%</span>

          </div>        <div class="data-info">

          <div class="stat-details">

            <span class="detail-item">          <span>    <header class="main-header">    <header class="main-header">

              Records:

              <strong id="total-records">0</strong>            Data Points:

            </span>

            <span class="detail-item">            <strong id="data-count">0</strong>        <div class="system-status">

              Status:

              <strong id="system-status">NORMAL</strong>          </span>

            </span>

          </div>          <span>          <div class="status-item">      <div class="header-content">      <div class="header-content">

        </div>

      </section>            Last Update:



      <!-- Charts Section -->            <strong id="last-update">-</strong>            <span class="status-icon" id="data-status">ğŸŸ¢</span>

      <section class="charts-section">

        <!-- Water Level Chart -->          </span>

        <div class="chart-panel">

          <div class="panel-header">        </div>            <span>Database</span>        <div class="logo-section">        <div class="logo-section">

            <h3>ğŸ’§ Water Level History</h3>

            <div class="chart-info">      </section>

              <span id="water-level-info">Loading...</span>

            </div>          </div>

          </div>

          <div class="chart-container">      <!-- Database Statistics -->

            <canvas id="water-level-chart"></canvas>

          </div>      <section class="stats-overview">          <div class="status-item">          <h1>ğŸ“ˆ AGOS HISTORICAL DATA</h1>          <h1>ğŸ“ˆ AGOS HISTORICAL DATA</h1>

        </div>

        <div class="stat-card">

        <!-- Flow Rate Chart -->

        <div class="chart-panel">          <div class="stat-header">            <span class="status-icon" id="connection-status">ğŸŸ¢</span>

          <div class="panel-header">

            <h3>ğŸŒŠ Flow Rate History</h3>            <h3>ğŸ’§ Water Level</h3>

            <div class="chart-info">

              <span id="flow-rate-info">Loading...</span>          </div>            <span>Server</span>          <p>Database Storage & Visualization</p>          <p>Database Storage & Visualization</p>

            </div>

          </div>          <div class="stat-value">

          <div class="chart-container">

            <canvas id="flow-rate-chart"></canvas>            <span class="value" id="current-water-level">0.0</span>          </div>

          </div>

        </div>            <span class="unit">cm</span>



        <!-- Combined Chart -->          </div>        </div>        </div>        </div>

        <div class="chart-panel full-width">

          <div class="panel-header">          <div class="stat-details">

            <h3>ğŸ“Š Combined Data View</h3>

            <div class="chart-controls">            <span class="detail-item">      </div>

              <button class="control-btn active" id="show-both">Both</button>

              <button class="control-btn" id="show-water">Water Only</button>              Max:

              <button class="control-btn" id="show-flow">Flow Only</button>

            </div>              <strong id="max-water-level">0.0 cm</strong>    </header>        <div class="module-nav">        <div class="module-nav">

          </div>

          <div class="chart-container large">            </span>

            <canvas id="combined-chart"></canvas>

          </div>            <span class="detail-item">

        </div>

      </section>              Min:



      <!-- Data Export -->              <strong id="min-water-level">0.0 cm</strong>    <!-- Historical Data Dashboard -->          <button class="nav-btn" onclick="window.location.href='index.html'">          <button class="nav-btn" onclick="window.location.href='index.html'">

      <section class="export-section">

        <div class="export-panel">            </span>

          <h3>ğŸ“¤ Export Database Data</h3>

          <div class="export-buttons">          </div>    <main class="historical-dashboard">

            <button class="export-btn" id="export-csv">

              <span>ğŸ“Š</span>        </div>

              Export CSV

            </button>      <!-- Time Range Selector -->            ğŸ“Š Dashboard            ğŸ“Š Dashboard

            <button class="export-btn" id="export-json">

              <span>ğŸ“‹</span>        <div class="stat-card">

              Export JSON

            </button>          <div class="stat-header">      <section class="time-controls">

            <button class="export-btn" id="refresh-data">

              <span>ğŸ”„</span>            <h3>ğŸŒŠ Flow Rate</h3>

              Refresh Data

            </button>          </div>        <div class="time-range-buttons">          </button>          </button>

          </div>

        </div>          <div class="stat-value">

      </section>

    </main>            <span class="value" id="current-flow-rate">0.0</span>          <button class="time-btn" data-range="1h">1 Hour</button>



    <!-- Loading Overlay -->            <span class="unit">m/s</span>

    <div id="loading-overlay" class="loading-overlay hidden">

      <div class="loading-content">          </div>          <button class="time-btn" data-range="6h">6 Hours</button>          <button class="nav-btn" onclick="window.location.href='module2.html'">          <button class="nav-btn" onclick="window.location.href='module2.html'">

        <div class="loading-spinner"></div>

        <p class="loading-text" id="loading-text">Loading database data...</p>          <div class="stat-details">

      </div>

    </div>            <span class="detail-item">          <button class="time-btn active" data-range="24h">24 Hours</button>



    <!-- Scripts -->              Max:

    <script src="/module_3/module3-app.js"></script>

  </body>              <strong id="max-flow-rate">0.0 m/s</strong>          <button class="time-btn" data-range="7d">7 Days</button>            ğŸ›°ï¸ AI Mapping            ğŸ›°ï¸ AI Mapping

</html>
            </span>

            <span class="detail-item">          <button class="time-btn" data-range="30d">30 Days</button>

              Avg:

              <strong id="avg-flow-rate">0.0 m/s</strong>        </div>          </button>          </button>

            </span>

          </div>        <div class="data-info">

        </div>

          <span>Data Points: <strong id="data-count">0</strong></span>          <button class="nav-btn active">ğŸ“ˆ Historical Data</button>          <button class="nav-btn active">ğŸ“ˆ Historical Data</button>

        <div class="stat-card">

          <div class="stat-header">          <span>Last Update: <strong id="last-update">-</strong></span>

            <h3>ğŸ”‹ System Status</h3>

          </div>        </div>          <button class="nav-btn" onclick="window.location.href='module4.html'">          <button class="nav-btn" onclick="window.location.href='module4.html'">

          <div class="stat-value">

            <span class="value" id="battery-level">85</span>      </section>

            <span class="unit">%</span>

          </div>            ğŸš¨ Emergency            ğŸš¨ Emergency

          <div class="stat-details">

            <span class="detail-item">      <!-- Database Statistics -->

              Records:

              <strong id="total-records">0</strong>      <section class="stats-overview">          </button>          </button>

            </span>

            <span class="detail-item">        <div class="stat-card">

              Status:

              <strong id="system-status">NORMAL</strong>          <div class="stat-header">        </div>        </div>

            </span>

          </div>            <h3>ğŸ’§ Water Level</h3>

        </div>

      </section>          </div>



      <!-- Charts Section -->          <div class="stat-value">

      <section class="charts-section">

        <!-- Water Level Chart -->            <span class="value" id="current-water-level">0.0</span>        <div class="system-status">        <div class="system-status">

        <div class="chart-panel">

          <div class="panel-header">            <span class="unit">cm</span>

            <h3>ğŸ’§ Water Level History</h3>

            <div class="chart-info">          </div>          <div class="status-item">          <div class="status-item">

              <span id="water-level-info">Loading...</span>

            </div>          <div class="stat-details">

          </div>

          <div class="chart-container">            <span class="detail-item">            <span class="status-icon" id="data-status">ğŸŸ¢</span>            <span class="status-icon" id="data-status">ğŸŸ¢</span>

            <canvas id="water-level-chart"></canvas>

          </div>              Max: <strong id="max-water-level">0.0 cm</strong>

        </div>

            </span>            <span>Database</span>            <span>Database</span>

        <!-- Flow Rate Chart -->

        <div class="chart-panel">            <span class="detail-item">

          <div class="panel-header">

            <h3>ğŸŒŠ Flow Rate History</h3>              Min: <strong id="min-water-level">0.0 cm</strong>          </div>          </div>

            <div class="chart-info">

              <span id="flow-rate-info">Loading...</span>            </span>

            </div>

          </div>          </div>          <div class="status-item">          <div class="status-item">

          <div class="chart-container">

            <canvas id="flow-rate-chart"></canvas>        </div>

          </div>

        </div>            <span class="status-icon" id="connection-status">ğŸŸ¢</span>            <span class="status-icon" id="connection-status">ğŸŸ¢</span>



        <!-- Combined Chart -->        <div class="stat-card">

        <div class="chart-panel full-width">

          <div class="panel-header">          <div class="stat-header">            <span>Server</span>            <span>Server</span>

            <h3>ğŸ“Š Combined Data View</h3>

            <div class="chart-controls">            <h3>ğŸŒŠ Flow Rate</h3>

              <button class="control-btn active" id="show-both">Both</button>

              <button class="control-btn" id="show-water">Water Only</button>          </div>          </div>          </div>

              <button class="control-btn" id="show-flow">Flow Only</button>

            </div>          <div class="stat-value">

          </div>

          <div class="chart-container large">            <span class="value" id="current-flow-rate">0.0</span>        </div>        </div>

            <canvas id="combined-chart"></canvas>

          </div>            <span class="unit">m/s</span>

        </div>

      </section>          </div>      </div>      </div>



      <!-- Data Export -->          <div class="stat-details">

      <section class="export-section">

        <div class="export-panel">            <span class="detail-item">    </header>    </header>

          <h3>ğŸ“¤ Export Database Data</h3>

          <div class="export-buttons">              Max: <strong id="max-flow-rate">0.0 m/s</strong>

            <button class="export-btn" id="export-csv">

              <span>ğŸ“Š</span>            </span>

              Export CSV

            </button>            <span class="detail-item">

            <button class="export-btn" id="export-json">

              <span>ğŸ“‹</span>              Avg: <strong id="avg-flow-rate">0.0 m/s</strong>    <!-- Historical Data Dashboard -->    <!-- Historical Data Dashboard -->

              Export JSON

            </button>            </span>

            <button class="export-btn" id="refresh-data">

              <span>ğŸ”„</span>          </div>    <main class="historical-dashboard">    <main class="historical-dashboard">

              Refresh Data

            </button>        </div>

          </div>

        </div>      <!-- Time Range Selector -->      <!-- Time Range Selector -->

      </section>

    </main>        <div class="stat-card">



    <!-- Loading Overlay -->          <div class="stat-header">      <section class="time-controls">      <section class="time-controls">

    <div id="loading-overlay" class="loading-overlay hidden">

      <div class="loading-content">            <h3>ğŸ”‹ System Status</h3>

        <div class="loading-spinner"></div>

        <p class="loading-text" id="loading-text">Loading database data...</p>          </div>        <div class="time-range-buttons">        <div class="time-range-buttons">

      </div>

    </div>          <div class="stat-value">



    <!-- Scripts -->            <span class="value" id="battery-level">85</span>          <button class="time-btn" data-range="1h">1 Hour</button>          <button class="time-btn" data-range="1h">1 Hour</button>

    <script src="/socket.io/socket.io.js"></script>

    <script src="/module_3/module3-app.js"></script>            <span class="unit">%</span>

  </body>

</html>          </div>          <button class="time-btn" data-range="6h">6 Hours</button>          <button class="time-btn" data-range="6h">6 Hours</button>

          <div class="stat-details">

            <span class="detail-item">          <button class="time-btn active" data-range="24h">24 Hours</button>          <button class="time-btn active" data-range="24h">24 Hours</button>

              Records: <strong id="total-records">0</strong>

            </span>          <button class="time-btn" data-range="7d">7 Days</button>          <button class="time-btn" data-range="7d">7 Days</button>

            <span class="detail-item">

              Status: <strong id="system-status">NORMAL</strong>          <button class="time-btn" data-range="30d">30 Days</button>          <button class="time-btn" data-range="30d">30 Days</button>

            </span>

          </div>        </div>        </div>

        </div>

      </section>        <div class="data-info">        <div class="data-info">



      <!-- Charts Section -->          <span>Data Points: <strong id="data-count">0</strong></span>          <span>Data Points: <strong id="data-count">0</strong></span>

      <section class="charts-section">

        <!-- Water Level Chart -->          <span>Last Update: <strong id="last-update">-</strong></span>          <span>Last Update: <strong id="last-update">-</strong></span>

        <div class="chart-panel">

          <div class="panel-header">        </div>        </div>

            <h3>ğŸ’§ Water Level History</h3>

            <div class="chart-info">      </section>      </section>

              <span id="water-level-info">Loading...</span>

            </div>

          </div>

          <div class="chart-container">      <!-- Database Statistics -->      <!-- Database Statistics -->

            <canvas id="water-level-chart"></canvas>

          </div>      <section class="stats-overview">      <section class="stats-overview">

        </div>

        <div class="stat-card">        <div class="stat-card">

        <!-- Flow Rate Chart -->

        <div class="chart-panel">          <div class="stat-header">          <div class="stat-header">

          <div class="panel-header">

            <h3>ğŸŒŠ Flow Rate History</h3>            <h3>ğŸ’§ Water Level</h3>            <h3>ğŸ’§ Water Level</h3>

            <div class="chart-info">

              <span id="flow-rate-info">Loading...</span>          </div>          </div>

            </div>

          </div>          <div class="stat-value">          <div class="stat-value">

          <div class="chart-container">

            <canvas id="flow-rate-chart"></canvas>            <span class="value" id="current-water-level">0.0</span>            <span class="value" id="current-water-level">0.0</span>

          </div>

        </div>            <span class="unit">cm</span>            <span class="unit">cm</span>



        <!-- Combined Chart -->          </div>          </div>

        <div class="chart-panel full-width">

          <div class="panel-header">          <div class="stat-details">          <div class="stat-details">

            <h3>ğŸ“Š Combined Data View</h3>

            <div class="chart-controls">            <span class="detail-item">            <span class="detail-item">

              <button class="control-btn active" id="show-both">Both</button>

              <button class="control-btn" id="show-water">Water Only</button>              Max: <strong id="max-water-level">0.0 cm</strong>              Max: <strong id="max-water-level">0.0 cm</strong>

              <button class="control-btn" id="show-flow">Flow Only</button>

            </div>            </span>            </span>

          </div>

          <div class="chart-container large">            <span class="detail-item">            <span class="detail-item">

            <canvas id="combined-chart"></canvas>

          </div>              Min: <strong id="min-water-level">0.0 cm</strong>              Min: <strong id="min-water-level">0.0 cm</strong>

        </div>

      </section>            </span>            </span>



      <!-- Data Export -->          </div>          </div>

      <section class="export-section">

        <div class="export-panel">        </div>        </div>

          <h3>ğŸ“¤ Export Database Data</h3>

          <div class="export-buttons">

            <button class="export-btn" id="export-csv">

              <span>ğŸ“Š</span>        <div class="stat-card">        <div class="stat-card">

              Export CSV

            </button>          <div class="stat-header">          <div class="stat-header">

            <button class="export-btn" id="export-json">

              <span>ğŸ“‹</span>            <h3>ğŸŒŠ Flow Rate</h3>            <h3>ğŸŒŠ Flow Rate</h3>

              Export JSON

            </button>          </div>          </div>

            <button class="export-btn" id="refresh-data">

              <span>ğŸ”„</span>          <div class="stat-value">          <div class="stat-value">

              Refresh Data

            </button>            <span class="value" id="current-flow-rate">0.0</span>            <span class="value" id="current-flow-rate">0.0</span>

          </div>

        </div>            <span class="unit">m/s</span>            <span class="unit">m/s</span>

      </section>

    </main>          </div>          </div>



    <!-- Loading Overlay -->          <div class="stat-details">          <div class="stat-details">

    <div id="loading-overlay" class="loading-overlay hidden">

      <div class="loading-content">            <span class="detail-item">            <span class="detail-item">

        <div class="loading-spinner"></div>

        <p class="loading-text" id="loading-text">Loading database data...</p>              Max: <strong id="max-flow-rate">0.0 m/s</strong>              Max: <strong id="max-flow-rate">0.0 m/s</strong>

      </div>

    </div>            </span>            </span>



    <!-- Scripts -->            <span class="detail-item">            <span class="detail-item">

    <script src="/socket.io/socket.io.js"></script>

    <script src="/module_3/module3-app.js"></script>              Avg: <strong id="avg-flow-rate">0.0 m/s</strong>              Avg: <strong id="avg-flow-rate">0.0 m/s</strong>

  </body>

</html>            </span>            </span>

          </div>          </div>

        </div>        </div>



        <div class="stat-card">        <div class="stat-card">

          <div class="stat-header">          <div class="stat-header">

            <h3>ğŸ”‹ System Status</h3>            <h3>ğŸ”‹ System Status</h3>

          </div>          </div>

          <div class="stat-value">          <div class="stat-value">

            <span class="value" id="battery-level">85</span>            <span class="value" id="battery-level">85</span>

            <span class="unit">%</span>            <span class="unit">%</span>

          </div>          </div>

          <div class="stat-details">          <div class="stat-details">

            <span class="detail-item">            <span class="detail-item">

              Records: <strong id="total-records">0</strong>              Records: <strong id="total-records">0</strong>

            </span>            </span>

            <span class="detail-item">            <span class="detail-item">

              Status: <strong id="system-status">NORMAL</strong>              Status: <strong id="system-status">NORMAL</strong>

            </span>            </span>

          </div>          </div>

        </div>        </div>

      </section>      </section>



      <!-- Charts Section -->      <!-- Charts Section -->

      <section class="charts-section">      <section class="charts-section">

        <!-- Water Level Chart -->        <!-- Water Level Chart -->

        <div class="chart-panel">        <div class="chart-panel">

          <div class="panel-header">          <div class="panel-header">

            <h3>ğŸ’§ Water Level History</h3>            <h3>ğŸ’§ Water Level History</h3>

            <div class="chart-info">            <div class="chart-info">

              <span id="water-level-info">Loading...</span>              <span id="water-level-info">Loading...</span>

            </div>            </div>

          </div>          </div>

          <div class="chart-container">          <div class="chart-container">

            <canvas id="water-level-chart"></canvas>            <canvas id="water-level-chart"></canvas>

          </div>          </div>

        </div>        </div>



        <!-- Flow Rate Chart -->        <!-- Flow Rate Chart -->

        <div class="chart-panel">        <div class="chart-panel">

          <div class="panel-header">          <div class="panel-header">

            <h3>ğŸŒŠ Flow Rate History</h3>            <h3>ğŸŒŠ Flow Rate History</h3>

            <div class="chart-info">            <div class="chart-info">

              <span id="flow-rate-info">Loading...</span>              <span id="flow-rate-info">Loading...</span>

            </div>            </div>

          </div>          </div>

          <div class="chart-container">          <div class="chart-container">

            <canvas id="flow-rate-chart"></canvas>            <canvas id="flow-rate-chart"></canvas>

          </div>          </div>

        </div>        </div>



        <!-- Combined Chart -->        <!-- Combined Chart -->

        <div class="chart-panel full-width">        <div class="chart-panel full-width">

          <div class="panel-header">          <div class="panel-header">

            <h3>ğŸ“Š Combined Data View</h3>            <h3>ğŸ“Š Combined Data View</h3>

            <div class="chart-controls">            <div class="chart-controls">

              <button class="control-btn active" id="show-both">Both</button>              <button class="control-btn active" id="show-both">Both</button>

              <button class="control-btn" id="show-water">Water Only</button>              <button class="control-btn" id="show-water">Water Only</button>

              <button class="control-btn" id="show-flow">Flow Only</button>              <button class="control-btn" id="show-flow">Flow Only</button>

            </div>            </div>

          </div>          </div>

          <div class="chart-container large">          <div class="chart-container large">

            <canvas id="combined-chart"></canvas>            <canvas id="combined-chart"></canvas>

          </div>          </div>

        </div>        </div>

      </section>      </section>



      <!-- Data Export -->      <!-- Data Export -->

      <section class="export-section">      <section class="export-section">

        <div class="export-panel">        <div class="export-panel">

          <h3>ğŸ“¤ Export Database Data</h3>          <h3>ğŸ“¤ Export Database Data</h3>

          <div class="export-buttons">          <div class="export-buttons">

            <button class="export-btn" id="export-csv">            <button class="export-btn" id="export-csv">

              <span>ğŸ“Š</span>              <span>ğŸ“Š</span>

              Export CSV              Export CSV

            </button>            </button>

            <button class="export-btn" id="export-json">            <button class="export-btn" id="export-json">

              <span>ğŸ“‹</span>              <span>ğŸ“‹</span>

              Export JSON              Export JSON

            </button>            </button>

            <button class="export-btn" id="refresh-data">            <button class="export-btn" id="refresh-data">

              <span>ğŸ”„</span>              <span>ğŸ”„</span>

              Refresh Data              Refresh Data

            </button>            </button>

          </div>          </div>

        </div>        </div>

      </section>      </section>

    </main>    </main>



    <!-- Loading Overlay -->    <!-- Loading Overlay -->

    <div id="loading-overlay" class="loading-overlay hidden">    <div id="loading-overlay" class="loading-overlay hidden">

      <div class="loading-content">      <div class="loading-content">

        <div class="loading-spinner"></div>        <div class="loading-spinner"></div>

        <p class="loading-text" id="loading-text">Loading database data...</p>        <p class="loading-text" id="loading-text">Loading database data...</p>

      </div>      </div>

    </div>    </div>



    <!-- Scripts -->    <!-- Scripts -->

    <script src="/socket.io/socket.io.js"></script>    <script src="/socket.io/socket.io.js"></script>

    <script src="/module_3/module3-simple.js"></script>    <script src="/module_3/module3-simple.js"></script>

  </body>  </body>

</html></html>
        <span class="emergency-icon">âš ï¸</span>
        <span class="emergency-text">FLOOD ALERT ACTIVE</span>
        <span class="emergency-level" id="emergency-level">CRITICAL</span>
      </div>
    </div>

    <!-- Main Header -->
    <header class="main-header">
      <div class="header-content">
        <div class="logo-section">
          <h1>ğŸ“ˆ AGOS ANALYTICS</h1>
          <p>Historical Data Analysis & Flood Pattern Recognition</p>
        </div>
        <div class="module-nav">
          <button class="nav-btn" onclick="window.location.href='index.html'">
            ğŸ“Š Dashboard
          </button>
          <button class="nav-btn" onclick="window.location.href='module2.html'">
            ğŸ›°ï¸ AI Mapping
          </button>
          <button class="nav-btn active">ğŸ“ˆ Analytics</button>
          <button class="nav-btn" onclick="alert('Module 4 coming soon!')">
            ğŸš¨ Emergency
          </button>
        </div>

        <div class="system-status">
          <div class="status-item">
            <span class="status-icon" id="data-status">ğŸŸ¢</span>
            <span>Data Pipeline</span>
          </div>
          <div class="status-item">
            <span class="status-icon" id="analysis-status">ğŸŸ¢</span>
            <span>Analysis Engine</span>
          </div>
          <div class="status-item">
            <span class="status-icon">ğŸ“…</span>
            <span id="data-range">30 Days</span>
          </div>
        </div>
      </div>
    </header>

    <!-- Analytics Dashboard -->
    <main class="analytics-dashboard">
      <!-- Time Range Selector -->
      <section class="time-controls">
        <div class="time-range-buttons">
          <button class="time-btn" data-range="24h">24 Hours</button>
          <button class="time-btn" data-range="7d">7 Days</button>
          <button class="time-btn active" data-range="30d">30 Days</button>
          <button class="time-btn" data-range="90d">90 Days</button>
          <button class="time-btn" data-range="1y">1 Year</button>
          <button class="time-btn" data-range="custom">Custom</button>
        </div>
        <div class="custom-date-picker hidden" id="custom-date-picker">
          <input type="datetime-local" id="start-date" class="date-input" />
          <span>to</span>
          <input type="datetime-local" id="end-date" class="date-input" />
          <button id="apply-custom-range" class="apply-btn">Apply</button>
        </div>
      </section>

      <!-- Key Metrics Overview -->
      <section class="metrics-overview">
        <div class="metric-card">
          <div class="metric-header">
            <h3>ğŸ“Š Current Water Level</h3>
            <span class="metric-trend" id="level-trend">â†— +5.2%</span>
          </div>
          <div class="metric-value">
            <span class="value" id="current-level">47.8</span>
            <span class="unit">cm</span>
          </div>
          <div class="metric-details">
            <span class="detail-item">
              24h Peak:
              <strong id="level-peak">52.1 cm</strong>
            </span>
            <span class="detail-item">
              24h Low:
              <strong id="level-low">41.3 cm</strong>
            </span>
          </div>
        </div>

        <div class="metric-card">
          <div class="metric-header">
            <h3>ğŸŒŠ Flow Velocity</h3>
            <span class="metric-trend" id="flow-trend">â†˜ -2.1%</span>
          </div>
          <div class="metric-value">
            <span class="value" id="current-flow">1.24</span>
            <span class="unit">m/s</span>
          </div>
          <div class="metric-details">
            <span class="detail-item">
              24h Peak:
              <strong id="flow-peak">1.87 m/s</strong>
            </span>
            <span class="detail-item">
              Average:
              <strong id="flow-avg">1.15 m/s</strong>
            </span>
          </div>
        </div>

        <div class="metric-card">
          <div class="metric-header">
            <h3>âš ï¸ Alert Episodes</h3>
            <span class="metric-trend" id="alert-trend">â†˜ -15%</span>
          </div>
          <div class="metric-value">
            <span class="value" id="alert-count">3</span>
            <span class="unit">alerts</span>
          </div>
          <div class="metric-details">
            <span class="detail-item">
              Last Alert:
              <strong id="last-alert">2 days ago</strong>
            </span>
            <span class="detail-item">
              Duration:
              <strong id="alert-duration">45 min</strong>
            </span>
          </div>
        </div>

        <!-- <div class="metric-card">
          <div class="metric-header">
            <h3>ğŸ¯ Prediction Accuracy</h3>
            <span class="metric-trend" id="accuracy-trend">â†— +3.4%</span>
          </div>
          <div class="metric-value">
            <span class="value" id="prediction-accuracy">87.2</span>
            <span class="unit">%</span>
          </div>
          <div class="metric-details">
            <span class="detail-item">
              Models:
              <strong id="active-models">5 active</strong>
            </span>
            <span class="detail-item">
              Confidence:
              <strong id="model-confidence">High</strong>
            </span>
          </div>
        </div> -->
      </section>

      <!-- Main Analytics Grid -->
      <div class="analytics-grid">
        <!-- Left Column: Time Series Charts -->
        <div class="left-column">
          <!-- Water Level Trends -->
          <div class="chart-panel">
            <div class="panel-header">
              <h3>ğŸ’§ Water Level Trends</h3>
              <div class="chart-controls">
                <button
                  class="chart-control-btn active"
                  data-chart="level"
                  data-view="line"
                >
                  ğŸ“ˆ Line
                </button>
                <button
                  class="chart-control-btn"
                  data-chart="level"
                  data-view="area"
                >
                  ğŸ“Š Area
                </button>
                <button
                  class="chart-control-btn"
                  data-chart="level"
                  data-view="combined"
                >
                  ğŸ”— Combined
                </button>
              </div>
            </div>
            <div class="chart-container">
              <canvas id="water-level-chart"></canvas>
            </div>
            <div class="chart-legend">
              <div class="legend-item">
                <span class="legend-color" style="background: #3b82f6"></span>
                <span>Water Level</span>
              </div>
              <div class="legend-item">
                <span class="legend-color" style="background: #ef4444"></span>
                <span>Emergency Threshold</span>
              </div>
              <div class="legend-item">
                <span class="legend-color" style="background: #f97316"></span>
                <span>Alert Threshold</span>
              </div>
            </div>
          </div>

          <!-- Flow Rate Analysis -->
          <div class="chart-panel">
            <div class="panel-header">
              <h3>ğŸŒŠ Flow Rate Analysis</h3>
              <div class="chart-controls">
                <button
                  class="chart-control-btn active"
                  data-chart="flow"
                  data-view="line"
                >
                  ğŸ“ˆ Velocity
                </button>
                <button
                  class="chart-control-btn"
                  data-chart="flow"
                  data-view="turbidity"
                >
                  ğŸŒ«ï¸ Turbidity
                </button>
                <button
                  class="chart-control-btn"
                  data-chart="flow"
                  data-view="debris"
                >
                  ğŸªµ Debris
                </button>
              </div>
            </div>
            <div class="chart-container">
              <canvas id="flow-rate-chart"></canvas>
            </div>
          </div>

          <!-- Correlation Matrix -->
          <!--
          <div class="chart-panel">
            <div class="panel-header">
              <h3>ğŸ”— Environmental Correlations</h3>
              <div class="correlation-info">
                <span
                  class="info-icon"
                  title="Correlation strength between different parameters"
                >
                  â„¹ï¸
                </span>
              </div>
            </div>
            <div class="correlation-container">
              <div class="correlation-matrix" id="correlation-matrix">
                <!-- Dynamic correlation matrix will be generated here -->
              <!-- </div>
              <div class="correlation-scale">
                <span>-1.0</span>
                <div class="scale-gradient"></div>
                <span>+1.0</span>
              </div> -->
            </div>
          </div>
          -->
        </div>

        <!-- Right Column: Advanced Analytics -->
        <!-- <div class="right-column"> -->
          <!-- Seasonal Patterns -->
          <div class="analysis-panel">
            <div class="panel-header">
              <h3>ğŸ“… Seasonal Pattern Analysis</h3>
              <select class="season-selector" id="season-selector">
                <option value="monsoon">Monsoon (Jun-Nov)</option>
                <option value="dry">Dry Season (Dec-May)</option>
                <option value="all">Full Year</option>
              </select>
            </div>
            <div class="seasonal-content">
              <div class="season-chart-container">
                <canvas id="seasonal-chart"></canvas>
              </div>
              <div class="seasonal-insights">
                <h4>ğŸ” Key Insights</h4>
                <div class="insight-list" id="seasonal-insights">
                  <div class="insight-item">
                    <span class="insight-icon">ğŸ“ˆ</span>
                    <span>Peak flood risk occurs in August-September</span>
                  </div>
                  <div class="insight-item">
                    <span class="insight-icon">â°</span>
                    <span>Average event duration: 3.2 hours</span>
                  </div>
                  <div class="insight-item">
                    <span class="insight-icon">ğŸŒ§ï¸</span>
                    <span>Rainfall correlation: 0.78</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Event Analysis -->
          <div class="analysis-panel">
            <div class="panel-header">
              <h3>ğŸš¨ Flood Event Timeline</h3>
              <div class="event-filters">
                <button class="filter-btn active" data-severity="all">
                  All
                </button>
                <button class="filter-btn" data-severity="alert">Alert</button>
                <button class="filter-btn" data-severity="emergency">
                  Emergency
                </button>
              </div>
            </div>
            <div class="event-timeline" id="event-timeline">
              <!-- Timeline events will be populated here -->
            </div>
          </div>

          <!-- Predictive Model Performance -->
          <!--
          <div class="analysis-panel">
            <div class="panel-header">
              <h3>ğŸ¤– Model Performance</h3>
              <div class="model-selector">
                <select id="model-selector">
                  <option value="hybrid">Hybrid AI+Sensor</option>
                  <option value="ai-only">AI Only</option>
                  <option value="sensor-only">Sensor Only</option>
                  <option value="ensemble">Ensemble</option>
                </select>
              </div>
            </div>
            <div class="model-metrics">
              <div class="metric-row">
                <span class="metric-label">Accuracy:</span>
                <div class="metric-bar">
                  <div
                    class="bar-fill"
                    style="width: 87%"
                    data-value="87"
                  ></div>
                  <span class="bar-value">87%</span>
                </div>
              </div>
              <div class="metric-row">
                <span class="metric-label">Precision:</span>
                <div class="metric-bar">
                  <div
                    class="bar-fill"
                    style="width: 91%"
                    data-value="91"
                  ></div>
                  <span class="bar-value">91%</span>
                </div>
              </div>
              <div class="metric-row">
                <span class="metric-label">Recall:</span>
                <div class="metric-bar">
                  <div
                    class="bar-fill"
                    style="width: 84%"
                    data-value="84"
                  ></div>
                  <span class="bar-value">84%</span>
                </div>
              </div>
              <div class="metric-row">
                <span class="metric-label">F1-Score:</span>
                <div class="metric-bar">
                  <div
                    class="bar-fill"
                    style="width: 87%"
                    data-value="87"
                  ></div>
                  <span class="bar-value">87%</span>
                </div>
              </div>
            </div>
            <div class="confusion-matrix">
              <h4>Confusion Matrix (Last 30 Days)</h4>
              <div class="matrix-grid" id="confusion-matrix">
                <!-- Matrix will be generated dynamically -->
              </div>
            </div>
          </div>
          -->
        </div>
      </div>

      <!-- Data Export and Actions -->
      <section class="export-actions">
        <div class="export-panel">
          <h3>ğŸ“¤ Data Export & Research</h3>
          <div class="export-options">
            <button class="export-btn" id="export-csv">
              <span class="btn-icon">ğŸ“Š</span>
              Export CSV
            </button>
            <button class="export-btn" id="export-json">
              <span class="btn-icon">ğŸ“‹</span>
              Export JSON
            </button>
            <button class="export-btn" id="export-report">
              <span class="btn-icon">ğŸ“‘</span>
              Generate Report
            </button>
            <button class="export-btn research" id="research-collab">
              <span class="btn-icon">ğŸ“</span>
              Research Portal
            </button>
          </div>
          <div class="export-settings">
            <div class="setting-group">
              <label>Data Resolution:</label>
              <select id="data-resolution">
                <option value="raw">Raw (5-second intervals)</option>
                <option value="1min" selected>1 Minute</option>
                <option value="5min">5 Minutes</option>
                <option value="15min">15 Minutes</option>
                <option value="1hour">1 Hour</option>
              </select>
            </div>
            <div class="setting-group">
              <label>Include:</label>
              <div class="checkbox-group">
                <label>
                  <input type="checkbox" id="include-predictions" checked />
                  Predictions
                </label>
                <label>
                  <input type="checkbox" id="include-weather" checked />
                  Weather Data
                </label>
                <label>
                  <input type="checkbox" id="include-events" checked />
                  Event Annotations
                </label>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Research Collaboration Modal -->
    <div id="research-modal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h2>ğŸ“ Research Collaboration Portal</h2>
          <!-- <button class="modal-close" id="close-research-modal">&times;</button> -->
        </div>
        <div class="modal-body">
          <div class="research-content">
            <div class="partner-institutions">
              <h3>ğŸ›ï¸ Partner Institutions</h3>
              <div class="institution-list">
                <div class="institution-card">
                  <div class="institution-logo">ğŸ«</div>
                  <div class="institution-info">
                    <h4>DOST/PPC Water District/NDRRMC/San Manuel Office</h4>
                    <p>
                      Philippine Atmospheric, Geophysical & Astronomical
                      Services etc...
                    </p>
                    <span class="collaboration-status active">
                      Active Collaboration
                    </span>
                  </div>
                </div>
                <div class="institution-card">
                  <div class="institution-logo">ğŸ“</div>
                  <div class="institution-info">
                    <h4>HTU/NDRRMC</h4>
                    <p>Holy Trinity University</p>
                    <span class="collaboration-status active">
                      Data Sharing
                    </span>
                  </div>
                </div>
                <div class="institution-card">
                  <div class="institution-logo">ğŸ”¬</div>
                  <div class="institution-info">
                    <h4>DOST/Water District/NDDRMC</h4>
                    <p>Validation and Laboratory Testing</p>
                    <span class="collaboration-status pending">
                      Pending Approval
                    </span>
                  </div>
                </div>
              </div>
            </div>

            <!-- <div class="research-projects">
              <h3>ğŸ“Š Ongoing Research Projects</h3>
              <div class="project-list">
                <div class="project-card">
                  <h4>Flood Pattern Analysis in Metro Manila</h4>
                  <p>
                    Multi-year study on urban flood patterns and AI prediction
                    accuracy
                  </p>
                  <div class="project-meta">
                    <span>Lead: Dr. Maria Santos</span>
                    <span>Status: Data Collection</span>
                    <span>Timeline: 2024-2026</span>
                  </div>
                </div>
                <div class="project-card">
                  <h4>Climate Change Impact on River Systems</h4>
                  <p>
                    Long-term analysis of changing flood patterns due to climate
                    change
                  </p>
                  <div class="project-meta">
                    <span>Lead: Prof. Juan Dela Cruz</span>
                    <span>Status: Analysis Phase</span>
                    <span>Timeline: 2023-2025</span>
                  </div>
                </div>
              </div>
            </div> -->

            <div class="data-requests">
              <h3>ğŸ“‹ Data Access Requests</h3>
              <div class="request-form">
                <div class="form-group">
                  <label>Institution:</label>
                  <input type="text" placeholder="Your institution name" />
                </div>
                <div class="form-group">
                  <label>Research Purpose:</label>
                  <textarea
                    placeholder="Brief description of your research project..."
                  ></textarea>
                </div>
                <div class="form-group">
                  <label>Data Requirements:</label>
                  <div class="checkbox-group">
                    <label>
                      <input type="checkbox" />
                      Historical water levels
                    </label>
                    <label>
                      <input type="checkbox" />
                      Flow rate measurements
                    </label>
                    <label>
                      <input type="checkbox" />
                      AI predictions
                    </label>
                    <label>
                      <input type="checkbox" />
                      Event classifications
                    </label>
                  </div>
                </div>
                <button class="submit-request-btn">Submit Request</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
      <div class="loading-content">
        <div class="loading-spinner"></div>
        <p class="loading-text" id="loading-text">
          Processing analytics data...
        </p>
      </div>
    </div>

    <!-- Scripts -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="/module_3/module3-app.js"></script>
  </body>
</html>
